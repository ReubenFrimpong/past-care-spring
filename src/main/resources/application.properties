# ========================================
# DEVELOPMENT CONFIGURATION ONLY
# ========================================
# WARNING: This configuration uses ddl-auto=update which is DANGEROUS in production
# For production, use application-prod.properties with ddl-auto=validate and Flyway enabled
# ========================================

spring.application.name=pastcare-spring
spring.datasource.url=jdbc:mysql://localhost:3306/past-care-spring
spring.datasource.username=root
spring.datasource.password=password
# spring.datasource.driver-class-name=com.mysql.cj.Driver  # Auto-detected by Spring Boot

# DEVELOPMENT ONLY: ddl-auto=update for rapid development
# NEVER USE IN PRODUCTION - Can cause data loss!
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Flyway Configuration - disabled for development, use Hibernate DDL auto
# In production, set spring.flyway.enabled=true and ddl-auto=validate
spring.flyway.enabled=false
#spring.flyway.baseline-on-migrate=true
#spring.flyway.baseline-version=72
#spring.flyway.locations=classpath:db/migration
#spring.flyway.validate-on-migrate=false

# Hibernate SQL Logging for Testing
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.Filter=DEBUG

# Tenant Context Logging
logging.level.com.reuben.pastcare_spring.security.TenantContext=DEBUG
logging.level.com.reuben.pastcare_spring.config.HibernateFilterInterceptor=DEBUG
logging.level.com.reuben.pastcare_spring.services.TenantValidationService=DEBUG

# Silence intentional Spring Security configuration warning
logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR

# JWT Configuration
jwt.expiration=3600000
jwt.expiration.remember-me=2592000000
jwt.secret=VGhpc0lzQVZlcnlTdHJvbmdTZWNyZXRLZXlGb3JKd3RUb2tlbnM=

# Refresh Token Configuration
jwt.refresh-token.expiration=2592000000
jwt.refresh-token.max-active=5

# Cookie Configuration
jwt.cookie.domain=localhost
jwt.cookie.secure=false
jwt.cookie.same-site=Lax
# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Custom upload settings
app.upload.dir=uploads/profile-images
app.upload.fellowship-dir=uploads/fellowship-images
app.upload.event-dir=uploads/event-images
app.upload.church-logo-dir=uploads/church-logos
app.upload.max-size-kb=100

# QR Code Configuration
qrcode.secret.key=PastCareQRCode16
qrcode.default.expiry.hours=24

# Frontend URL for QR code check-in
app.frontend.url=http://localhost:4200

# Paystack Configuration
paystack.secret-key=sk_test_2a687e28f1a4d7b0bb6f26f3d26bacd9a1442a5a
paystack.public-key=pk_test_9fb4f6c627c6a544ef593f482179d06a445dfcb0
paystack.base-url=https://api.paystack.co
paystack.callback-url=http://localhost:4200/portal/giving/verify
paystack.test-mode=true
paystack.webhook-secret=${PAYSTACK_WEBHOOK_SECRET:your_webhook_secret_here}
paystack.max-retry-attempts=3
paystack.initial-retry-delay-minutes=60
paystack.max-retry-delay-hours=48
paystack.transaction-timeout-seconds=900

# SMS Gateway Configuration - Africa's Talking
sms.africastalking.api-key=SHkk6QaWB
sms.africastalking.username=${AFRICASTALKING_USERNAME:sandbox}
sms.africastalking.sender-id=${AFRICASTALKING_SENDER_ID:}
sms.africastalking.api-url=https://api.africastalking.com/version1/messaging

# SMS Gateway Configuration - Twilio
sms.twilio.account-sid=${TWILIO_ACCOUNT_SID:your_account_sid_here}
sms.twilio.auth-token=${TWILIO_AUTH_TOKEN:your_auth_token_here}
sms.twilio.from-number=${TWILIO_FROM_NUMBER:+1234567890}
sms.twilio.api-url=https://api.twilio.com/2010-04-01

# Email Configuration
app.email.enabled=false
app.email.from=noreply@pastcare.com
app.email.send-credentials=true
app.url=http://localhost:4200

# Spring Mail Configuration (when ready to enable)
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true
